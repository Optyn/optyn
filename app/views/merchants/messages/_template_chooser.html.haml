- if @templates.blank?
  #headline
    %h2 Welcome to Optyn's templating. We are working on adding more features. But we would like to get you started. Please pick of the options below.

  .blank-space

  .text-center
    %p
      %a.btn{"data-toggle" => "modal", href: "#template_upload_modal", role: "button"} I would like to upload a template and use it

    %h3 OR

    %p
      = link_to "I don't care. I want to pick an available layout", "javascript:void(0)", class: 'btn btn-large btn-success', id: 'system_template_chooser_link'

- else
  %h2
    == Your #{"Template".pluralize(@templates.size)}
  .clearfix

  .template_chooser
    - @templates.each do |template|
      %a{href: assign_template_merchants_message_path(@message.uuid), class: "span4 template_type", 'data-template-id' => template.id}
        %h6
          = template.name
        - if template.thumbnail.present?
          = image_tag("#{template.thumbnail}")
        - else
          #template_image_preview_block
            Generating Preview...


  .loading{style: 'display: none;'}
    %strong
      Please Wait...

  .clearfix
  .blank-space

  .text-center
    %a.btn{"data-toggle" => "modal", href: "#template_upload_modal", role: "button"} Upload Template

    OR
    = link_to "System Layout", "javascript:void(0)", class: 'btn btn-large btn-success', id: 'system_template_chooser_link'


#system_templates_modal.modal.hide.fade{'tabindex' => "-1", 'role' => "dialog", 'aria-labelledby' => "myModalLabel", 'aria-hidden' => "true"}
  = render partial: "merchants/messages/system_layouts"
= render partial: 'merchants/messages/template_upload_modal'
